{% extends "base.html" %}
{% block title %}Listas de Stands{% endblock %}

{% block content %}

<div class="mt-5">

    <h2>Lista de Stands</h2>

    <table class="table">
        <thead class="thead-light">
            <tr>
             
                <th scope="col">Localização</th>
                <th scope="col">Ações</th>   

            </tr>
        </thead>
        <tbody>
            {% for x in stand %}
            <tr>
               
                <td>{{x.localizacao}} </td>
              

                <td>
                    <a href="{% url 'core:listastand' x.pk %}"><i class="fas fa-edit"></i></a>
                    <a href="{% url 'core:apagarstand' x.pk %}"><i class="fas fa-trash-alt"></i></a>
                    <a href="{% url 'core:detalharstand' x.pk %}"><i class="fas fa-search"></i></a>
                </td>
            </tr>
           
                {%empty%}
                <p>Nenhuma Stand cadastrada</p>
            
            {% endfor %}
        </tbody>

</div>

        <div class="mb-3">
            <a href="{% url 'CriarStand' %}" class="btn btn-primary">Adicionar Novo</a>
        </div>


<!--           MENSAGEM                  -->
        {% if messages %}
            {% for message in messages %}
            <div class="alert alert-primary" role="alert">
            
                {{ message }}
            </div>
            
            </div>
            {% endfor %}
        {% endif %}

<!--       FIM MENSAGEM                        -->

<div class="container text-center">
    <div class="row">
      <div class="col">
      </div>
  
      <div class="col">
  
  <!-- pagination.html -->
  <div class="intro-y flex flex-wrap sm:flex-row sm:flex-nowrap items-center mt-3">
    <nav class="w-full sm:w-auto sm:mr-auto">
      <ul class="pagination">
  
        <!-- Início da paginação -->
  
        <!-- Primeira página -->
        {% if page_obj.number != 1 %}
          <li class="page-item">
            <a class="page-link" href="?page=1&search={{ request.GET.search }}"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="chevrons-left" class="lucide lucide-chevrons-left w-4 h-4" data-lucide="chevrons-left"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg> </a>
          </li>
        {% endif %}
  
        <!-- Página anterior -->
        {% if page_obj.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}&search={{ request.GET.search }}"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="chevron-left" class="lucide lucide-chevron-left w-4 h-4" data-lucide="chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg> </a>
          </li>
        {% endif %}
  
        <!-- ... -->
        <!-- {% if page_obj.number != 1 %}
          <li class="page-item"> <a class="page-link" href="#">...</a> </li>
        {% endif %} -->
  
        <!-- Páginas do meio -->
        {% for pg in page_obj.paginator.page_range %}
          <!-- Sempre mostra as 2 primeiras e 2 últimas páginas -->
          {% if pg == 1 or pg == 2 or pg == page_obj.paginator.num_pages or pg == page_obj.paginator.num_pages|add:'-1' %}
  
            <li class="page-item {% if page_obj.number == pg %}active{% endif %}"> <a class="page-link" href="?page={{ pg }}&search={{ request.GET.search }}">{{ pg }}</a> </li>
  
          {% else %}
  
            {% if page_obj.number == pg %}
              <li class="page-item active"><a class="page-link" href="?page={{ pg }}">{{ pg }}</a></li>
            {% elif pg > page_obj.number|add:'-3' and pg < page_obj.number|add:'3' %}
              <!-- Mostra 2 páginas antes e 2 páginas depois da atual -->
              <li class="page-item"><a class="page-link" href="?page={{ pg }}&search={{ request.GET.search }}">{{ pg }}</a></li>
            {% elif pg == page_obj.number|add:'-4' or pg == page_obj.number|add:'4' %}
              <li class="page-item"> <a class="page-link" href="#">...</a> </li>
            {% endif %}
  
          {% endif %}
        {% endfor %}
  
        <!-- Próxima página -->
        {% if page_obj.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}&search={{ request.GET.search }}"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="chevron-right" class="lucide lucide-chevron-right w-4 h-4" data-lucide="chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg> </a>
          </li>
        {% endif %}
  
        <!-- Última página -->
        {% if page_obj.number != page_obj.paginator.num_pages %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}&search={{ request.GET.search }}"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="chevrons-right" class="lucide lucide-chevrons-right w-4 h-4" data-lucide="chevrons-right"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg> </a>
          </li>
        {% endif %}
        <!-- Fim da paginação -->
  
      </ul>
    </nav>
  </div>
  
      </div>
  
      <div class="col">
      </div>
    </div>
  </div>
      
{% endblock %}